[Unit]
Description=Let Fluidsynth process live events from a USB MIDI device

[Service]
Environment=PATH=/usr/bin:/sbin:/usr/sbin:/home/raphael/bin:/usr/local/bin:/bin
Type=forking
ExecStart=/home/raphael/projects/rpiano/run.sh
ExecReload=/bin/kill -s HUP $MAINPID
Restart=always

User=raphael
Group=raphael
SupplementaryGroups=audio

TimeoutSec=0
RestartSec=2
StartLimitBurst=3
StartLimitInterval=60s
LimitMEMLOCK=infinity
LimitRTPRIO=90
TasksMax=infinity
Delegate=yes
Type=notify
NotifyAccess=all
KillMode=mixed

[Install]
WantedBy=default.target
